{layout='site/-layout'}

{exp:channel:entries
    channel="pages"
    limit="1"
    dynamic='no'
    url_title="store-order-details"
}

{if no_results}{redirect="404"}{/if}

{!-- Set entry id for better meta --}
{layout:set name="entry_id" value="{entry_id}"}

{!-- Additional Open Graph meta --}
{layout:set name="og_image" value="{cf_page_feature_image:revved_url:facebook-2x}"}
{layout:set name="og_image:height" value="{cf_page_feature_image:height:facebook-2x}"}
{layout:set name="og_image:width" value="{cf_page_feature_image:width:facebook-2x}"}

<h1>{title}</h1>

{cf_page_content}

{if cf_page_feature_image}
<img
    src="{cf_page_feature_image:revved_url:feature-1x}"
    width="{cf_page_feature_image:width:feature-1x}"
    height="{cf_page_feature_image:height:feature-1x}"
    srcset="{cf_page_feature_image:revved_url:feature-2x} 2x"
/>
{/if}

{exp:store:checkout
    next="store/order-payment"
}

{if no_items}
<div>Your cart is empty.</div>
{/if}

<div><label>Order Email: <input type="email" name="order_email"/></label></div>

<h2>Shipping Details</h2>
<div><label>First Name: <input type="email" name="shipping_first_name" value="{shipping_first_name}"/></label></div>
<div><label>Last Name: <input type="email" name="shipping_last_name" value="{shipping_last_name}"/></label></div>
<div><label>Phone: <input type="email" name="shipping_phone" value="{shipping_phone}"/></label></div>
<div><label>Address1: <input type="text" name="shipping_address1"  value="{shipping_address1}"/></label></div>
<div><label>Address2: <input type="text" name="shipping_address2"  value="{shipping_address2}"/></label></div>
<div><label>City: <input type="text" name="shipping_city"  value="{shipping_city}"/></label></div>
<div><label>State: <input type="text" name="shipping_state"  value="{shipping_state}"/></label></div>
<div><label>Country: <select name="shipping_country"><option></option>{shipping_country_options}</select></label></div>
<div><label>Post Code: <input type="text" name="shipping_postcode"  value="{shipping_postcode}"/></label></div>

<h2>Billing Details</h2>
<div>
    <label>
        <input type="hidden" name="billing_same_as_shipping" value="0"/>
        <input type="checkbox" name="billing_same_as_shipping" value="1" {billing_same_as_shipping_checked}/>
        Same as Shipping Details
    </label>
</div>
<div><label>First Name: <input type="email" name="billing_first_name"/></label></div>
<div><label>Last Name: <input type="email" name="billing_last_name"/></label></div>
<div><label>Phone: <input type="email" name="billing_phone"/></label></div>
<div><label>Address1: <input type="text" name="billing_address1" /></label></div>
<div><label>Address2: <input type="text" name="billing_address2" /></label></div>
<div><label>City: <input type="text" name="billing_city" /></label></div>
<div><label>State: <input type="text" name="billing_state" /></label></div>
<div><label>Country: <select name="billing_country"><option></option>{billing_country_options}</select></label></div>
<div><label>Post Code: <input type="text" name="billing_postcode" /></label></div>

<h2>Shipping Method</h2>
<div>
    <label>Shipping Method:
        <select name="shipping_method">
            {shipping_method_options}
        </select>
    </label>
</div>

<button type="submit" name="update_cart">Update Cart</button>
<button type="submit" name="next">Continue</button>

{/exp:store:checkout}
{/exp:channel:entries}
