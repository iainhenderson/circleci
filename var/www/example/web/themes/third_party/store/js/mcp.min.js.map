{"version":3,"file":"mcp.min.js","sources":["../../../../sources/js/mcp/0_global.js","../../../../sources/js/mcp/dashboard.js","../../../../sources/js/mcp/datatables.js","../../../../sources/js/mcp/order.js","../../../../sources/js/mcp/osections.js","../../../../sources/js/mcp/select2.js"],"names":["global","$","setGetParameter","paramName","paramValue","url","window","location","href","indexOf","prefix","substring","suffix","Store","holder","find","each","index","elem","datepicker","dateFormat","timepicker","timeFormat","bind","e","target","nodeName","val","docCookies","setItem","Subs","COOKIE_PREFIX","reload","daterangepicker","opens","ranges","Last 7 Days","moment","subtract","Last 30 Days","This Month","startOf","endOf","Last Month","Last 3 Months","start","end","this","element","html","format","datestr","jQuery","initChart","box","data","remove","prev_days","periods","current","sum_str","trend_percent","removeClass","addClass","trend_direction","days","chartdata","day2","prev","push","toDate","getTime","day","data1","points","fillColor","size","color","plot","chartOptions","length","metricBoxes","loadingElem","Spinner","spin","ajax","MCP_AJAX_URL","type","dataType","sc","date_start","date_end","metric","success","rdata","error","xaxis","show","yaxis","series","lines","lineWidth","fill","zero","shadowSize","colors","grid","borderColor","hoverable","backgroundColor","minBorderMargin","borderWidth","margin","top","right","bottom","left","initDatatable","table","initStaticDatatable","tableConfig","JSON","parse","hasClass","DataTables","redraw","MCP_BASE_URL","tableName","pagination","lengthmenu","paginationlinks","totalitems","tableDom","pageLength","toggleLoadingIndicator","dtables","dataTable","paginationType","dom","postAjax","columns","processColumns","autoWidth","serverSide","lengthMenu","stateSave","order","scrollY","scrollX","scrollCollapse","paging","callback","key","tableElem","tableData","ajaxUrl","ajax_url","dtable","getTable","name","sm","extra_post","fixed_post_data","temp","filterParams","serializeJSON","p","mcp_base_url","params","stringify","EE","CSRF_TOKEN","csrf_token","xid","cols","col","i","title","label","width","className","visible","orderable","sortable","evt","settings","processing","css","visibleColumnsToggle","dt","column","dtName","fnSettings","aoColumns","aoData","fnSetColumnVis","fnAdjustColumnSizing","redrawAll","DT","fnDraw","click","smallTimeout","clearTimeout","setTimeout","openEditOrder","preventDefault","get","section","id","item_id","modal","delegate","saveOrder","osections","trigger","getModifiersHtml","entry_id","attr","closest","serializeArray","confirm","value","post","initPane","pane","oSectionInit","toggler","options","Osection","sectionsWrapper","parent","extra","add","extend","proxy","toggleSection","self","hide","prototype","Select2","init","CreateGlobal","multiple","select2","allowClear","globalAjaxData","results","globalAjaxResults","minimumInputLength","initSelection","globalInitSelectionMultiple","globalInitSelection","term","page","q","page_limit","split","text","item","createSelect2Tags"],"mappings":"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","sourcesContent":[";(function(global, $){\n    //es5 strict mode\n    \"use strict\";\n\n    var Store = global.Store = global.Store || {};\n    Store.holder = $('#store');\n\n    var holder = $('#store');\n\n    // ----------------------------------------------------------------------\n\n    holder.find('.datepicker').each(function(index, elem){\n        $(elem).datepicker({\n            dateFormat: 'yy-mm-dd'\n        });\n    });\n\n    // ----------------------------------------------------------------------\n\n    holder.find('.timepicker').each(function(index, elem){\n        $(elem).timepicker({\n            timeFormat: 'H:i'\n        });\n    });\n\n    // ----------------------------------------------------------------------\n\n    holder.find('.data-toggle').bind('click', function(e){\n        if (e.target.nodeName != 'INPUT') return;\n        var val = $(e.target).val();\n        docCookies.setItem(Subs.COOKIE_PREFIX+'subs_data', val, 5184000, '/');\n        window.location.reload();\n    });\n\n    // ----------------------------------------------------------------------\n\n    holder.find('.dateranger').daterangepicker(\n        {\n            opens:'left',\n            ranges: {\n                'Last 7 Days': [moment().subtract('days', 6), moment()],\n                'Last 30 Days': [moment().subtract('days', 29), moment()],\n                'This Month': [moment().startOf('month'), moment().endOf('month')],\n                'Last Month': [moment().subtract('month', 1).startOf('month'), moment().subtract('month', 1).endOf('month')],\n                'Last 3 Months': [moment().subtract('month', 3).endOf('month'), moment()]\n            },\n        },\n        function(start, end) {\n            this.element.find('span').html(start.format('MMMM D, YYYY') + ' - ' + end.format('MMMM D, YYYY'));\n\n            var datestr = start.format('YYYY-MM-DD')+','+end.format('YYYY-MM-DD');\n            setGetParameter('daterange', datestr);\n        }\n    );\n\n    // ----------------------------------------------------------------------\n\n    function setGetParameter(paramName, paramValue)\n    {\n        var url = window.location.href;\n        if (url.indexOf(paramName + \"=\") >= 0)\n        {\n            var prefix = url.substring(0, url.indexOf(paramName));\n            var suffix = url.substring(url.indexOf(paramName));\n            suffix = suffix.substring(suffix.indexOf(\"=\") + 1);\n            suffix = (suffix.indexOf(\"&\") >= 0) ? suffix.substring(suffix.indexOf(\"&\")) : \"\";\n            url = prefix + paramName + \"=\" + paramValue + suffix;\n        }\n        else\n        {\n        if (url.indexOf(\"?\") < 0)\n            url += \"?\" + paramName + \"=\" + paramValue;\n        else\n            url += \"&\" + paramName + \"=\" + paramValue;\n        }\n        window.location.href = url;\n    }\n\n    // ----------------------------------------------------------------------\n\n}(window, jQuery));\n\n// ----------------------------------------------------------------------",";(function(global, $){\n    //es5 strict mode\n    \"use strict\";\n\n    var holder = $('#store');\n    if (holder.length === 0) return;\n\n    var metricBoxes = holder.find('.metric');\n\n    // ----------------------------------------------------------------------\n    // Activate Loading\n    // ----------------------------------------------------------------------\n    metricBoxes.each(function(index, elem){\n        var loadingElem = $(elem).find('.loading-chart');\n        if (loadingElem.length == 0) return;\n\n        new Spinner().spin(loadingElem[0]);\n    });\n\n    // ----------------------------------------------------------------------\n    // Activate Charts\n    // ----------------------------------------------------------------------\n    metricBoxes.each(function(index, elem){\n        var box = $(elem);\n\n        $.ajax({\n            url: Store.MCP_AJAX_URL, type: 'GET', dataType: 'json',\n            data: {\n                sc: 'metric',\n                date_start: box.data('date_start'),\n                date_end: box.data('date_end'),\n                metric: box.data('metric'),\n            },\n            success: function(rdata){\n                initChart(box, rdata);\n            },\n            error: function() {\n                box.find('.loading-chart').remove();\n            }\n        });\n    });\n\n    // ----------------------------------------------------------------------\n    // Create Chart\n    // ----------------------------------------------------------------------\n    function initChart(box, data) {\n        box.find('.loading-chart').remove();\n\n        if (!data) return;\n\n        box.find('.prev_days').html(data.prev_days);\n        box.find('.primary').html(data.periods.current.sum_str);\n\n        box.find('.trend .percentage').html(data.trend_percent);\n        box.find('.trend').removeClass('trend-up trend-down trend-neutral').addClass('trend-'+data.trend_direction);\n\n        if (!data.periods.current.days) return;\n\n        var chartdata = [];\n\n        for (var day2 in data.periods.prev.days) {\n            chartdata.push(  [moment(day2).toDate().getTime(), data.periods.prev.days[day2]]  );\n        }\n\n        for (var day in data.periods.current.days) {\n            chartdata.push(  [moment(day).toDate().getTime(), data.periods.current.days[day]]  );\n        }\n\n        var data1 = [\n            {data: chartdata, points: { fillColor: \"#F9FCFE\", size: 5 }, color: '#4572A7' },\n        ];\n\n        $.plot(box.find('.chart'), data1, chartOptions);\n    }\n\n    // ----------------------------------------------------------------------\n    // Default Chart Options\n    // ----------------------------------------------------------------------\n    var chartOptions = {\n        xaxis: {show: false},\n        yaxis: {show: false},\n        series: {\n            lines: {\n                show: true,\n                lineWidth: 6,\n                fill: !0,\n                zero: !1,\n                fillColor: \"rgba(26,140,201,0.2)\",\n            },\n            shadowSize: 0,\n            points: {\n                show: false\n            },\n        },\n        colors: [\n            \"rgba(26,140,201,1)\"\n        ],\n        grid: {\n            color: \"#646464\",\n            borderColor: \"transparent\",\n            hoverable: false,\n            backgroundColor: \"transparent\",\n            minBorderMargin: 0,\n            borderWidth: 0,\n            margin: {\n                top: 20,\n                right: 0,\n                bottom: 0,\n                left: 0\n            }\n        },\n    };\n\n}(window, jQuery));\n\n// ----------------------------------------------------------------------",";(function(global, $){\n    //es5 strict mode\n    \"use strict\";\n\n    var DataTables = global.Store.DataTables = global.Store.DataTables || {};\n\n    // Stored tables\n    var holder = $('#store');\n    var dtables = {};\n    var dtablesElems;\n\n    // Internal\n    var timeout;\n\n    if (holder.find('.datatable table:not(.dataTable)').length === 0) return;\n\n    // ----------------------------------------------------------------------\n\n    DataTables.redrawAll = function() {\n        for (var DT in dtables) {\n            dtables[DT].fnDraw(false);\n        }\n    };\n\n    // ----------------------------------------------------------------------\n\n    DataTables.redraw = function(name) {\n        if (typeof(dtables[name]) != 'undefined') {\n            //console.log(dtables[name]);\n            dtables[name].fnDraw(false);\n        }\n    };\n\n    // ----------------------------------------------------------------------\n\n    DataTables.getTable = function(name) {\n        if (typeof(dtables[name]) != 'undefined') {\n            return dtables[name];\n        }\n\n        return false;\n    };\n\n    // ----------------------------------------------------------------------\n\n    function initDatatable(table) {\n\n        if (table.data('no_ajax') == 'yes') {\n            initStaticDatatable(table);\n            return;\n        }\n\n        var tableConfig = table.find('script.dtconfig');\n        if (tableConfig.length === 0) return;\n\n        tableConfig = JSON.parse(tableConfig.html());\n        table.data(tableConfig);\n\n        if (table.data('disabled') == 'yes') {\n            return;\n        }\n\n        if (table.hasClass('dataTable')) {\n            DataTables.redraw(table.data('name'));\n            return;\n        }\n\n        table.data('ajax_url', Store.MCP_BASE_URL);\n\n        var tableName = table.data('name');\n        var pagination = (table.data('pagination') == 'no') ? false : true;\n        var lengthmenu = pagination ? 'l' : '';\n        var paginationlinks = pagination ? 'p' : '';\n        var totalitems = pagination ? 'i' : '';\n\n        var tableDom = 'R<\"toptable\">t<\"bottomtable\" '+lengthmenu+paginationlinks+totalitems+'>';\n        var pageLength = pagination ? 15 : -1;\n\n        table.bind('processing.dt', toggleLoadingIndicator);\n\n        // Initialize the datatable\n        dtables[tableName] = table.dataTable({\n            paginationType: 'simple',\n            dom: tableDom,\n            ajax: postAjax,\n            columns: processColumns(table.data('cols')),\n            autoWidth: false,\n            pageLength: pageLength,\n            serverSide: true,\n            lengthMenu: [[15, 25, 50, -1], ['15', '25', '50', \"All\"]],\n\n            stateSave: ((table.data('savestate') == 'no') ? false : true),\n            order: []\n        });\n\n/*\n        // Global Filter?\n        if (table.find('.global_filter input').length > 0){\n            table.find('.global_filter input').keyup(function(EV){\n                clearTimeout(timeout);\n                timeout = setTimeout(function(){\n                    dtables[ tableName ].fnFilter($(EV.target).val());\n                }, 300);\n            });\n        }\n*/\n    }\n\n    // ----------------------------------------------------------------------\n\n    function initStaticDatatable(table) {\n        table.dataTable({\n            dom: 't',\n            scrollY:        \"200px\",\n            scrollX:        false,\n            scrollCollapse: true,\n            paging:         false\n        });\n    }\n\n    // ----------------------------------------------------------------------\n\n    function postAjax(data, callback, settings){\n\n        // Local Caching\n        var key;\n        var tableElem = $(this);\n        var tableData = tableElem.data();\n        var ajaxUrl = tableData.ajax_url;\n        var dtable = DataTables.getTable(tableData.name);\n\n        ajaxUrl += '&sc=' + tableData.sc + '&sm=' + tableData.sm;\n\n        if (dtable) {\n            if (typeof(dtable.extra_post) !== 'undefined') {\n                for (key in dtable.extra_post) {\n                    data[name] = dtable.extra_post[key];\n                }\n            }\n        }\n\n        if (tableData.fixed_post_data) {\n            var temp = tableData.fixed_post_data;\n            for (key in temp) {\n                data[key] = temp[key];\n            }\n        }\n\n        var filterParams = holder.find('.filters').find(':input').serializeJSON();\n\n        for (var p in filterParams) {\n            data[p] = filterParams[p];\n        }\n\n        data.mcp_base_url = Store.MCP_BASE_URL;\n\n        data = {params: JSON.stringify(data)};\n\n        if (EE.CSRF_TOKEN) data.csrf_token = EE.CSRF_TOKEN;\n        else data.xid = EE.xid;\n\n        // Send the AJAX request\n        $.ajax({dataType:'json', type:'POST', url:ajaxUrl, data:data, success:function(rdata){\n\n            // Give it back\n            callback(rdata);\n\n            /*\n            setTimeout(function(){\n\n                // Find all datatables\n                $('table.datatable').each(function(i, e){\n\n                    if ($(e).data('disabled') == 'yes') return;\n\n                    // And Resize their columns!\n                    dtables[ $(e).data('name') ].fnAdjustColumnSizing(false);\n                });\n            }, 200);*/\n        }});\n    }\n\n    // ----------------------------------------------------------------------\n\n    function postDraw(e){\n\n    }\n\n    // ----------------------------------------------------------------------\n\n    function postInit(oSettings, json){\n\n    }\n\n    // ----------------------------------------------------------------------\n\n    function processColumns(columns) {\n        var cols = [], col = {};\n\n        for (var i = 0; i < columns.length; i++) {\n\n            col = {};\n\n            col.data = columns[i].name;\n            col.name = columns[i].name;\n            col.title = columns[i].label;\n            col.width = typeof(columns[i].width != 'undefined') ? columns[i].width : null;\n            col.className = typeof(columns[i].class != 'undefined') ? columns[i].class : null;\n            col.visible = typeof(columns[i].visible != 'undefined') ? columns[i].visible : true;\n            col.orderable = typeof(columns[i].sortable != 'undefined') ? columns[i].sortable : false;\n\n            cols.push(col);\n            col = null;\n        }\n\n        //console.log(cols);\n\n        return cols;\n    }\n\n    // ----------------------------------------------------------------------\n\n    function toggleLoadingIndicator(evt, settings, processing) {\n        $('#spage').find('.dtloading').css( 'display', processing ? 'block' : 'none' );\n    }\n\n    // ----------------------------------------------------------------------\n\n    function visibleColumnsToggle(evt) {\n        var target = $(evt.target);\n        var column = target.data('column');\n        var dt, columns;\n\n        // Lets grab the first Datatable\n        for (var dtName in dtables) {\n            dt = dtables[dtName];\n            break;\n        }\n\n        columns = dt.fnSettings().aoColumns;\n\n        if (typeof dt.fnSettings().aoData[0] == 'undefined') return;\n\n        // Loop over all cols\n        for (var col in columns) {\n\n            if (column == columns[col].name){\n\n                // Is the column already visible?\n                if (target.hasClass('label-primary') === true) {\n\n                    // Remove the class of course\n                    target.removeClass('label-primary');\n\n                    // Make it hidden\n                    dt.fnSetColumnVis(col, false, false);\n\n                    // Re-Calculate the column sizes (and don't fetch new data)\n                    dt.fnAdjustColumnSizing(false);\n                }\n\n                // The column was hidden\n                else {\n                    // Add the class of course\n                    target.addClass('label-primary');\n\n                    // Mark it visible!\n                    dt.fnSetColumnVis(col, true);\n\n                    // Re-Calculate the column sizes (and don't fetch new data)\n                    dt.fnAdjustColumnSizing(false);\n                }\n\n            }\n        }\n    }\n\n    //----------------------------------------\n    // Init Datatable\n    //----------------------------------------\n    holder.find('.datatable table:not(.dataTable)').each(function(index, elem){\n        initDatatable($(elem));\n    });\n\n    holder.find('.viscols .label').click(visibleColumnsToggle);\n\n    // Normal Text Inputs\n    var smallTimeout = 0;\n    holder.find('.filters').bind('change keyup', function(evt){\n\n        // Clear the timeout\n        clearTimeout(smallTimeout);\n\n        // Trigger a new drawing\n        smallTimeout = setTimeout(function(){\n            for (var dtName in dtables) {\n                dtables[dtName].fnDraw();\n            }\n        }, 300);\n    });\n\n}(window, jQuery));\n",";(function(global, $){\n    //es5 strict mode\n    \"use strict\";\n\n    var holder = $('#single_order');\n    if (holder.length === 0) return;\n\n    holder.delegate('.edit_order', 'click', openEditOrder);\n\n    function openEditOrder(e) {\n        e.preventDefault();\n        var target = $(e.target);\n\n        $.get(Store.MCP_BASE_URL, {sc:'orders', sm:'edit', section:target.data('section'), id:holder.data('id'), item_id:target.data('item_id')}, function(rdata){\n            var modal = $('#StoreModalWrapper');\n            modal.html(rdata);\n            modal = modal.find('.modal').modal();\n            modal.delegate('.modal-save', 'click', saveOrder);\n\n            Store.osections(modal);\n            Store.holder.trigger('pane.init', [modal]);\n\n            modal.delegate('.item-entry_id', 'change', getModifiersHtml);\n        });\n    }\n\n    function getModifiersHtml(e) {\n        $.get(Store.MCP_BASE_URL, {sc:'orders', sm:'get_modifiers_html', entry_id:$('input.item-entry_id').val()}, function(rdata) {\n            var modal = $('#StoreModalWrapper');\n            modal.find('.modifiers').html(rdata);\n        });\n    }\n\n    function saveOrder(e) {\n        e.preventDefault();\n        var target = $(e.target);\n        target.addClass('disabled').attr('disabled', 'disabled');\n\n        var params = target.closest('.modal').find(':input').serializeArray();\n\n        if (target.hasClass('modal-delete')) {\n            if (!confirm(\"Are you sure you want to delete this item?\\nThe cart will be recalculated.\")) {\n                return false;\n            }\n\n            params.push({name: 'delete', value: 'yes'});\n        }\n\n        $.post(Store.MCP_BASE_URL+'&sc=orders&sm=save', params, function(rdata){\n            window.location.reload();\n        }, 'json');\n    }\n\n}(window, jQuery));\n\n// ----------------------------------------------------------------------",";(function(global, $){\n    //es5 strict mode\n    \"use strict\";\n\n    var Store = global.Store = global.Store || {};\n    var holder = $('#store');\n\n    // ----------------------------------------------------------------------\n\n    function initPane(evt, pane) {\n        Store.osections(pane);\n    }\n\n    // ----------------------------------------------------------------------\n\n    Store.osections = function(pane) {\n        pane.find('.osections-enabled').each(function(i, elem){\n            oSectionInit($(elem));\n        });\n    };\n\n    // ----------------------------------------------------------------------\n\n    function oSectionInit(toggler, options) {\n        if (!toggler || toggler.length === 0) return false;\n\n        if (toggler.data('osection')) {\n            return toggler.data('osection');\n        }\n\n        toggler.data('osection', new Osection(toggler, options) );\n\n        if (toggler.find('.selected').length > 0) {\n            toggler.find('.selected a').trigger('click');\n        } else {\n            toggler.find('li:first a').trigger('click');\n        }\n    }\n\n    // ----------------------------------------------------------------------\n\n    function Osection(toggler, options) {\n        this.toggler = toggler;\n        this.sectionsWrapper = toggler.parent();\n\n        if (this.toggler.data('extra_wrapper')) {\n            var extra = $(this.toggler.data('extra_wrapper'));\n            this.sectionsWrapper = this.sectionsWrapper.add(extra);\n        }\n\n        this.settings = $.extend({\n            // These are the defaults.\n            color: \"#556b2f\",\n            backgroundColor: \"white\"\n        }, options );\n\n        this.toggler.delegate('a', 'click', $.proxy(toggleSection, this));\n    }\n\n    // ----------------------------------------------------------------------\n\n    Osection.prototype.toggler = null;\n    Osection.prototype.settings = null;\n\n    // ----------------------------------------------------------------------\n\n    function toggleSection(e) {\n        e.preventDefault();\n\n        var self = this;\n        var current = $(e.target);\n        var section = current.data('section');\n\n        if (!section) return;\n\n        self.toggler.find('.selected').removeClass('selected');\n\n        current.closest('li').addClass('selected');\n\n        self.sectionsWrapper.find('.osections').hide();\n        self.sectionsWrapper.find('.section-'+section).show();\n    }\n\n    // ----------------------------------------------------------------------\n\n    initPane(null, holder);\n\n}(window, jQuery));",";(function(global, $){\n    //es5 strict mode\n    \"use strict\";\n\n    var Store = global.Store = global.Store || {};\n    var Select2 = global.Select2 = global.Select2 || {};\n\n    $(Store.holder).bind('pane.init', initPane);\n\n    // ----------------------------------------------------------------------\n\n    function initPane(evt, pane) {\n        Select2.init(pane);\n    }\n\n    // ----------------------------------------------------------------------\n\n    Select2.init = function(pane){\n        if (!pane) pane = $('#mainwrap');\n\n        // Single simple dropdown\n        pane.find('select.select2').select2({\n            allowClear: true\n        });\n\n        pane.find('.select2-ajax, .select2-ajax-multiple').each(function(i, elem){\n            CreateGlobal(elem);\n        });\n\n        pane.find('.select2-tags').each(function(i, elem){\n            createSelect2Tags(elem);\n        });\n    };\n\n    // ----------------------------------------------------------------------\n\n    function CreateGlobal(elem) {\n        elem = $(elem);\n\n        var multiple = elem.hasClass('select2-ajax-multiple');\n        var url = elem.data('url');\n\n        elem.select2({\n            multiple: multiple ? true : false,\n            allowClear: true,\n            ajax: {\n                type: 'POST',\n                url: url,\n                data: globalAjaxData,\n                results: globalAjaxResults,\n                minimumInputLength:1, allowClear:true, dataType:'json'\n            },\n            initSelection: multiple ? globalInitSelectionMultiple : globalInitSelection\n        });\n    }\n\n    //*********************************************************************************//\n\n    function globalAjaxData(term, page){\n        return {'q':term, 'page_limit':10, 'page':page};\n    }\n\n    //********************************************************************************* //\n\n    function globalAjaxResults(data, page){\n        return data;\n    }\n\n    //********************************************************************************* //\n\n    function globalInitSelection(elem, callback){\n        var data = elem.val().split(':::');\n\n        if (data.length == 2) {\n            elem.val(data[0]);\n            callback({id:data[0], text:data[1]});\n        }\n    }\n\n    //********************************************************************************* //\n\n    function globalInitSelectionMultiple(elem, callback){\n        var data = [];\n\n        $(elem.val().split('||')).each(function(i) {\n            var item = this.split(':::');\n            data.push({\n                id: item[0],\n                text: item[1]\n            });\n        });\n\n        elem.val('');\n        callback(data);\n    }\n\n    //********************************************************************************* //\n}(window, jQuery));"]}